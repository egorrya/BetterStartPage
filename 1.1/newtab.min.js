document.querySelector(".apps__text").textContent="Open Bookmark Manager in your browser to add your first bookmark.",chrome.bookmarks.getTree(e=>{let o={html:""};e[0].children[0].children.forEach(e=>{ProcessBookmarkNode(e,o)}),document.getElementById("bookmarks").insertAdjacentHTML("afterbegin",o.html),o.html&&document.querySelector(".apps__text").remove(),folderAnimation(),document.body.style.opacity="1"});const ProcessBookmarkNode=(e,o)=>{e.children&&(o.html+='\n      <div class="folder">\n        <div class="folder-apps">',e.children.forEach(e=>{ProcessBookmarkNode(e,o)}),o.html+=`\n        </div>\n        <div class="folder-name">${ShortenString(e.title,18)}</div>\n        \n        <div class="bg-blur"></div>\n      </div>`),e.url&&(o.html+=` <a class="app" href="${e.url}">\n                    <div class="app-icon">\n                      <div class="app-icon-letter">${FirstLetter(e.title)}</div>\n                    </div>\n                    <div class="app-name">${ShortenString(e.title,18)}</div>\n                  </a>`)},folderAnimation=()=>{const e=document.querySelectorAll(".folder-apps"),o=document.querySelectorAll(".bg-blur");e.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("expand"),topFunction(),disableScroll()})}),o.forEach(o=>{o.addEventListener("click",()=>{for(let o of e)o.classList.remove("expand"),enableScroll()})})},ShortenString=(e,o)=>e.length>o?e.substr(0,o-3)+"...":e,FirstLetter=e=>e[0]?e[0]:"",topFunction=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},disableScroll=()=>{document.body.classList.add("stop-scrolling")},enableScroll=()=>{document.body.classList.remove("stop-scrolling")};